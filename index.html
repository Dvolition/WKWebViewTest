<!DOCTYPE HTML>
<html>
  <head>
    <title>クリプ</title>
    <meta charset="utf-8" />
  </head>
  <body>
    <form action="https://script.google.com/macros/s/AKfycbz9su8Dsi87M9TR4trvKT322TiIlqaj7fpx89C6Wjm7Jq3K8GI/exec" method="post" target="_blank">
      <h1>
      methodName:<br>
      <select id="methodName" name="methodName"style="WIDTH: 500px; HEIGHT: 50px; font-size : 30px" >
        <option>sign_up</option>
        <option>sign_in</option>
        <option>pay_coin</option>
        <option></option>
      </select>
      <p>e1：<br>
        <input id="e1" type="text" name="e1" value="1000001" style="WIDTH: 500px; HEIGHT: 50px; font-size : 30px" />
      </p>
      <p>e2：<br>
        <input id="e2" type="text" name="e2" value="100" style="WIDTH: 500px; HEIGHT: 50px; font-size : 30px" />
      </p>
      <p>e3：<br>
        <input id="e3" type="text" name="e3" value="100" style="WIDTH: 500px; HEIGHT: 50px; font-size : 30px" />
      </p>
      <p>e4：<br>
        <input id="e4" type="text" name="e4" value="100" style="WIDTH: 500px; HEIGHT: 50px; font-size : 30px" />
      </p>
      <p>e5：<br>
        <input id="e5" type="text" name="e5" value="100" style="WIDTH: 500px; HEIGHT: 50px; font-size : 30px" />
      </p>
      <p>api_pass：<br>
        <input id="api_pass" type="text" name="api_pass" value="pass" style="WIDTH: 500px; HEIGHT: 50px; font-size : 30px" />
      </p>
      <p>
        <input id="save" type="button" name="submit" value="送信" style="WIDTH: 500px; HEIGHT: 100px; font-size : 50px" />
      </p>
    </form>

    <textarea id="response" style="WIDTH: 800px; HEIGHT: 800px; font-size : 30px" /></textarea>

    <!-- Scripts -->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/jquery.scrolly.min.js"></script>
    <script src="assets/js/jquery.scrollex.min.js"></script>
    <script src="assets/js/skel.min.js"></script>
    <script src="assets/js/util.js"></script>
    <script src="assets/js/main.js"></script>
    <script>
      // Data Load
      $(function(){
        $("#api_pass").val(window.localStorage.getItem('text'));
      });

      $("#save").click(function(){
        window.localStorage.setItem('text',  $("#api_pass").val());
        post()
      });

      function post(){
        var url = "https://script.google.com/macros/s/AKfycbz9su8Dsi87M9TR4trvKT322TiIlqaj7fpx89C6Wjm7Jq3K8GI/exec"; // リクエスト先URL
        var request = new XMLHttpRequest();
        request.open('POST', url , true);
        request.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
        request.onreadystatechange = function () {
          if (request.readyState != 4) {
          // リクエスト中
          } else if (request.status != 200) {
          // 失敗
          } else {
          // 取得成功
          var result = request.responseText;
          $("#response").val(result);

          return result;
          }
        };
        var request_data = "methodName="+$("#methodName").val()+"&e1='"+$("#e1").val()+"'&e2='"+$("#e2").val()+"'&e3='"+$("#e3").val()+"'&e4='"+$("#e4").val()+"'&e5='"+$("#e5").val()+"'&api_pass='"+$("#api_pass").val()+"'";
        request.send(request_data);
        }

    </script>

  </body>
</html>